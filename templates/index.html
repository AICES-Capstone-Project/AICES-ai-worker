<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<script src="https://cdn.tailwindcss.com"></script>
		<title>Resume Parser</title>
	</head>
	<body>
		<div class="relative isolate overflow-hidden bg-gray-900">
			<svg
				class="absolute inset-0 -z-10 h-full w-full stroke-white/10 [mask-image:radial-gradient(100%_100%_at_top_right,white,transparent)]"
				aria-hidden="true"
			>
				<defs>
					<pattern
						id="983e3e4c-de6d-4c3f-8d64-b9761d1534cc"
						width="200"
						height="200"
						x="50%"
						y="-1"
						patternUnits="userSpaceOnUse"
					>
						<path d="M.5 200V.5H200" fill="none" />
					</pattern>
				</defs>
				<svg x="50%" y="-1" class="overflow-visible fill-gray-800/20">
					<path
						d="M-200 0h201v201h-201Z M600 0h201v201h-201Z M-400 600h201v201h-201Z M200 800h201v201h-201Z"
						stroke-width="0"
					/>
				</svg>
				<rect
					width="100%"
					height="100%"
					stroke-width="0"
					fill="url(#983e3e4c-de6d-4c3f-8d64-b9761d1534cc)"
				/>
			</svg>
			<div
				class="absolute left-[calc(50%-4rem)] top-10 -z-10 transform-gpu blur-3xl sm:left-[calc(50%-18rem)] lg:left-48 lg:top-[calc(50%-30rem)] xl:left-[calc(50%-24rem)]"
				aria-hidden="true"
			>
				<div
					class="aspect-[1108/632] w-[69.25rem] bg-gradient-to-r from-[#80caff] to-[#4f46e5] opacity-20"
					style="
						clip-path: polygon(
							73.6% 51.7%,
							91.7% 11.8%,
							100% 46.4%,
							97.4% 82.2%,
							92.5% 84.9%,
							75.7% 64%,
							55.3% 47.5%,
							46.5% 49.4%,
							45% 62.9%,
							50.3% 87.2%,
							21.3% 64.1%,
							0.1% 100%,
							5.4% 51.1%,
							21.4% 63.9%,
							58.9% 0.2%,
							73.6% 51.7%
						);
					"
				></div>
			</div>
			<div
				class="mx-auto max-w-7xl px-6 pb-24 pt-10 sm:pb-32 lg:flex lg:px-8 lg:py-40"
			>
				<div
					class="mx-auto max-w-2xl flex-shrink-0 lg:mx-0 lg:max-w-xl lg:pt-8"
				>
					<img
						class="h-11"
						src="https://res.cloudinary.com/dtsuvx8dz/image/upload/v1706986565/hqatxpsjdg3zeql20jfe.png"
						alt="Your Company"
					/>
					<div class="mt-24 sm:mt-32 lg:mt-16">
						<a href="#" class="inline-flex space-x-6">
							<span
								class="rounded-full bg-blue-500/10 px-3 py-1 text-sm font-semibold leading-6 text-blue-400 ring-1 ring-inset ring-blue-500/20"
								>What's new</span
							>
							<span
								class="inline-flex items-center space-x-2 text-sm font-medium leading-6 text-gray-300"
							>
								<span>Just shipped v1.0</span>
								<svg
									class="h-5 w-5 text-gray-500"
									viewBox="0 0 20 20"
									fill="currentColor"
									aria-hidden="true"
								>
									<path
										fill-rule="evenodd"
										d="M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z"
										clip-rule="evenodd"
									/>
								</svg>
							</span>
						</a>
					</div>
					<h1
						class="mt-10 text-4xl font-bold tracking-tight text-white sm:text-5xl"
					>
						Revolutionize Your Recruitment with Next-Gen Resume Parsing
					</h1>
					<p class="mt-6 text-lg leading-8 text-gray-300">
						Unlock the potential of every application with our advanced resume
						parser, designed to enhance the speed and accuracy of your hiring
						decisions.
					</p>
					<div
						class="mt-4 p-4 bg-blue-500/10 border border-blue-500/20 rounded-lg"
					>
						<p class="text-blue-300 text-sm">
							<strong>üí° H∆∞·ªõng d·∫´n:</strong> Upload file PDF c·ªßa CV ƒë·ªÉ AI t·ª±
							ƒë·ªông tr√≠ch xu·∫•t th√¥ng tin nh∆∞ h·ªç t√™n, email, k·ªπ nƒÉng, kinh nghi·ªám
							l√†m vi·ªác...
						</p>
					</div>
					<div class="mt-10 flex items-center gap-x-6">
						<form action="/process" method="post" enctype="multipart/form-data">
							<div
								class="mt-10 flex flex-col justify-start items-start sm:flex-row sm:items-center gap-x-6"
							>
								<button
									type="submit"
									id="processBtn"
									class="my-2 bg-blue-500 px-8 rounded-2xl py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-blue-400/90 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 disabled:opacity-50 disabled:cursor-not-allowed"
								>
									<span id="btnText">Process</span>
									<span id="btnLoading" class="hidden">üîÑ Processing...</span>
								</button>
								<input
									type="file"
									name="pdf_doc"
									id="pdf_doc"
									accept=".pdf"
									class="drop-shadow-md bg-white/10 font-semibold leading-6 text-gray-900 border border-blue-300 py-2 px-4 rounded-2xl block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-400 hover:file:bg-blue-100"
								/>
							</div>
						</form>
					</div>
				</div>
				<div
					class="mx-auto mt-16 flex max-w-2xl sm:mt-24 lg:ml-10 lg:mr-0 lg:mt-40 lg:max-w-none lg:flex-none xl:ml-32"
				>
					<div class="max-w-3xl flex-none sm:max-w-5xl lg:max-w-none">
						<img
							src="https://res.cloudinary.com/dtsuvx8dz/image/upload/v1716357077/o1imiun4wwcpia9uucgs.gif"
							alt="App screenshot"
							width="2432"
							height="1442"
							class="w-[15rem] rounded-md bg-white/5 shadow-2xl ring-1 ring-white/10"
						/>
					</div>
				</div>
			</div>

			<div class="w-screen h-full pb-8">
				<div class="flex flex-col justify-center items-center text-white">
					<div class="w-full max-w-7xl px-4">
						<!-- Parsed Resume Data -->
						<div
							id="dictionaryValues"
							class="border border-1 border-white p-8 mb-8"
						></div>

						<!-- AI Scores Section -->
						{% if scores %}
						<div
							id="aiScores"
							class="border border-1 border-blue-500 p-8 bg-blue-900/20 rounded-lg"
						>
							<h2 class="text-3xl font-bold mb-6 text-blue-300">
								ü§ñ AI Resume Score Analysis
							</h2>

							<!-- Total Score - Large Display -->
							<div
								class="bg-gradient-to-r from-blue-600 to-purple-600 p-8 rounded-xl mb-8 text-center"
							>
								<div class="text-6xl font-bold mb-2">
									{{ "%.2f"|format(scores.total_score) }}
								</div>
								<div class="text-xl opacity-90">Total Score (out of 100)</div>
								<div class="mt-4 text-sm opacity-75">
									{% if scores.total_score >= 85 %} üåü Excellent Match - Strong
									Candidate {% elif scores.total_score >= 70 %} ‚úÖ Good Match -
									Qualified Candidate {% elif scores.total_score >= 55 %} ‚ö†Ô∏è
									Moderate Match - Additional Evaluation Needed {% else %} ‚ùå
									Weak Match - May Not Meet Requirements {% endif %}
								</div>
							</div>

							<!-- Individual Scores Grid -->
							<div
								class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-8"
							>
								<!-- Education Score -->
								<div class="bg-white/10 p-6 rounded-lg border border-white/20">
									<div class="flex items-center justify-between mb-2">
										<span class="text-lg font-semibold">üìö Education</span>
										<span class="text-2xl font-bold"
											>{{ scores.education_score }}</span
										>
									</div>
									<div class="w-full bg-gray-700 rounded-full h-2">
										<div
											class="bg-blue-500 h-2 rounded-full"
											style="width: {{ scores.education_score }}%"
										></div>
									</div>
									<div class="text-xs mt-1 opacity-75">Weight: 15%</div>
								</div>

								<!-- Work Experience Score -->
								<div class="bg-white/10 p-6 rounded-lg border border-white/20">
									<div class="flex items-center justify-between mb-2">
										<span class="text-lg font-semibold"
											>üíº Work Experience</span
										>
										<span class="text-2xl font-bold"
											>{{ scores.work_experience_score }}</span
										>
									</div>
									<div class="w-full bg-gray-700 rounded-full h-2">
										<div
											class="bg-green-500 h-2 rounded-full"
											style="width: {{ scores.work_experience_score }}%"
										></div>
									</div>
									<div class="text-xs mt-1 opacity-75">Weight: 25%</div>
								</div>

								<!-- Technical Skills Score -->
								<div class="bg-white/10 p-6 rounded-lg border border-white/20">
									<div class="flex items-center justify-between mb-2">
										<span class="text-lg font-semibold"
											>üíª Technical Skills</span
										>
										<span class="text-2xl font-bold"
											>{{ scores.technical_skills_score }}</span
										>
									</div>
									<div class="w-full bg-gray-700 rounded-full h-2">
										<div
											class="bg-purple-500 h-2 rounded-full"
											style="width: {{ scores.technical_skills_score }}%"
										></div>
									</div>
									<div class="text-xs mt-1 opacity-75">Weight: 35% ‚≠ê</div>
								</div>

								<!-- Certifications Score -->
								<div class="bg-white/10 p-6 rounded-lg border border-white/20">
									<div class="flex items-center justify-between mb-2">
										<span class="text-lg font-semibold">üèÜ Certifications</span>
										<span class="text-2xl font-bold"
											>{{ scores.certifications_score }}</span
										>
									</div>
									<div class="w-full bg-gray-700 rounded-full h-2">
										<div
											class="bg-yellow-500 h-2 rounded-full"
											style="width: {{ scores.certifications_score }}%"
										></div>
									</div>
									<div class="text-xs mt-1 opacity-75">Weight: 5%</div>
								</div>

								<!-- Projects Score -->
								<div class="bg-white/10 p-6 rounded-lg border border-white/20">
									<div class="flex items-center justify-between mb-2">
										<span class="text-lg font-semibold">üîß Projects</span>
										<span class="text-2xl font-bold"
											>{{ scores.projects_score }}</span
										>
									</div>
									<div class="w-full bg-gray-700 rounded-full h-2">
										<div
											class="bg-orange-500 h-2 rounded-full"
											style="width: {{ scores.projects_score }}%"
										></div>
									</div>
									<div class="text-xs mt-1 opacity-75">Weight: 15%</div>
								</div>

								<!-- Languages & Skills Score -->
								<div class="bg-white/10 p-6 rounded-lg border border-white/20">
									<div class="flex items-center justify-between mb-2">
										<span class="text-lg font-semibold"
											>üó£Ô∏è Languages & Skills</span
										>
										<span class="text-2xl font-bold"
											>{{ scores.languages_and_skills_score }}</span
										>
									</div>
									<div class="w-full bg-gray-700 rounded-full h-2">
										<div
											class="bg-pink-500 h-2 rounded-full"
											style="width: {{ scores.languages_and_skills_score }}%"
										></div>
									</div>
									<div class="text-xs mt-1 opacity-75">Weight: 5%</div>
								</div>
							</div>

							<!-- AI Explanations -->
							{% if scores.AIExplanation %}
							<div class="bg-black/30 p-6 rounded-lg">
								<h3 class="text-2xl font-bold mb-4 text-blue-300">
									üí¨ AI Analysis & Feedback
								</h3>
								<div class="space-y-4">
									<div class="border-l-4 border-blue-500 pl-4">
										<strong class="text-blue-300">üìö Education:</strong>
										<p class="mt-1 text-gray-300">
											{{ scores.AIExplanation.education }}
										</p>
									</div>
									<div class="border-l-4 border-green-500 pl-4">
										<strong class="text-green-300">üíº Work Experience:</strong>
										<p class="mt-1 text-gray-300">
											{{ scores.AIExplanation.work_experience }}
										</p>
									</div>
									<div class="border-l-4 border-purple-500 pl-4">
										<strong class="text-purple-300"
											>üíª Technical Skills:</strong
										>
										<p class="mt-1 text-gray-300">
											{{ scores.AIExplanation.technical_skills }}
										</p>
									</div>
									<div class="border-l-4 border-yellow-500 pl-4">
										<strong class="text-yellow-300">üèÜ Certifications:</strong>
										<p class="mt-1 text-gray-300">
											{{ scores.AIExplanation.certifications }}
										</p>
									</div>
									<div class="border-l-4 border-orange-500 pl-4">
										<strong class="text-orange-300">üîß Projects:</strong>
										<p class="mt-1 text-gray-300">
											{{ scores.AIExplanation.projects }}
										</p>
									</div>
									<div class="border-l-4 border-pink-500 pl-4">
										<strong class="text-pink-300"
											>üó£Ô∏è Languages & Soft Skills:</strong
										>
										<p class="mt-1 text-gray-300">
											{{ scores.AIExplanation.languages_soft }}
										</p>
									</div>
								</div>
							</div>
							{% endif %}

							<!-- Score Breakdown Legend -->
							<div class="mt-6 p-4 bg-black/20 rounded-lg text-sm">
								<strong>üìä Scoring Guide:</strong>
								<div class="grid grid-cols-2 md:grid-cols-5 gap-2 mt-2">
									<div>0-40: Poor</div>
									<div>41-60: Below Average</div>
									<div>61-75: Average</div>
									<div>76-85: Good</div>
									<div>86-100: Excellent</div>
								</div>
							</div>
						</div>
						{% endif %} {%if data %}
						<script>
							// Form submission handling
							document.addEventListener("DOMContentLoaded", function () {
								const form = document.querySelector("form");
								const processBtn = document.getElementById("processBtn");
								const btnText = document.getElementById("btnText");
								const btnLoading = document.getElementById("btnLoading");
								const fileInput = document.getElementById("pdf_doc");

								// Validate file selection
								fileInput.addEventListener("change", function () {
									const file = this.files[0];
									if (file) {
										if (file.type !== "application/pdf") {
											alert("Vui l√≤ng ch·ªçn file PDF!");
											this.value = "";
											return;
										}
										if (file.size > 10 * 1024 * 1024) {
											// 10MB limit
											alert("File qu√° l·ªõn! Vui l√≤ng ch·ªçn file nh·ªè h∆°n 10MB.");
											this.value = "";
											return;
										}
									}
								});

								// Form submission
								form.addEventListener("submit", function (e) {
									const file = fileInput.files[0];
									if (!file) {
										alert("Vui l√≤ng ch·ªçn file PDF tr∆∞·ªõc khi x·ª≠ l√Ω!");
										e.preventDefault();
										return;
									}

									// Show loading state
									processBtn.disabled = true;
									btnText.classList.add("hidden");
									btnLoading.classList.remove("hidden");
								});
							});
						</script>
						<script>
								function displayDictionaryValues(data) {
								    var dictionaryValuesDiv = document.getElementById("dictionaryValues");
								    var html = generateHTML(data);
								    dictionaryValuesDiv.innerHTML = html;
								}

							function generateHTML(data) {
							    var html = '<h2 class="text-3xl font-bold mb-4 text-white">üìÑ Parsed Resume Data</h2>';
							    html += '<pre class="text-left text-white p-4 bg-black/30 rounded overflow-auto">';
							    html += JSON.stringify(data, null, 2);
							    html += '</pre>';
							    return html;
							}
								displayDictionaryValues({{ data| tojson }});
						</script>
						{% endif %}
					</div>
				</div>
			</div>
		</div>
	</body>
</html>
